# 目次リンク（Table of Contents）サンプル

## 解説

見出しへのページ内リンク（アンカーリンク）を作成できます。
長いドキュメントのナビゲーションに便利です。

**対応環境**: ほぼすべてのMarkdown環境

---

## 基本的な目次リンク

### 記法

```markdown
## 目次

- [はじめに](#はじめに)
- [インストール](#インストール)
- [使い方](#使い方)
- [まとめ](#まとめ)

---

## はじめに

ここに内容を書きます。

## インストール

ここに内容を書きます。

## 使い方

ここに内容を書きます。

## まとめ

ここに内容を書きます。
```

---

## アンカーID生成ルール

見出しテキストからアンカーIDが自動生成されます。

| 見出し | アンカーID |
|--------|------------|
| `## はじめに` | `#はじめに` |
| `## Getting Started` | `#getting-started` |
| `## 1. 概要` | `#1-概要` |
| `## Hello World!` | `#hello-world` |

### 変換ルール

1. **小文字に変換**（英語の場合）
2. **スペースはハイフン `-` に変換**
3. **特殊文字は削除**（`!`, `?`, `:` など）
4. **日本語はそのまま**（GitHub, GitLabの場合）

---

## 英語見出しの例

### 記法

```markdown
## Table of Contents

- [Introduction](#introduction)
- [Getting Started](#getting-started)
- [Advanced Usage](#advanced-usage)
- [FAQ](#faq)

---

## Introduction

Content here...

## Getting Started

Content here...

## Advanced Usage

Content here...

## FAQ

Content here...
```

---

## 階層的な目次

### 記法

```markdown
## 目次

1. [第1章 基礎](#第1章-基礎)
   - [1.1 概要](#11-概要)
   - [1.2 環境構築](#12-環境構築)
2. [第2章 応用](#第2章-応用)
   - [2.1 実践例](#21-実践例)
   - [2.2 トラブルシューティング](#22-トラブルシューティング)
3. [付録](#付録)
```

---

## 実用例

### READMEの目次

```markdown
# プロジェクト名

## 目次

- [概要](#概要)
- [機能](#機能)
- [インストール](#インストール)
- [使い方](#使い方)
- [設定](#設定)
- [貢献方法](#貢献方法)
- [ライセンス](#ライセンス)

---

## 概要

このプロジェクトは...

## 機能

- 機能1
- 機能2

## インストール

\`\`\`bash
npm install my-package
\`\`\`

## 使い方

基本的な使い方...

## 設定

設定ファイルの説明...

## 貢献方法

プルリクエストを歓迎します...

## ライセンス

MIT License
```

---

### 技術ドキュメントの目次

```markdown
# API リファレンス

## 目次

- [認証](#認証)
  - [APIキーの取得](#apiキーの取得)
  - [リクエストヘッダー](#リクエストヘッダー)
- [エンドポイント](#エンドポイント)
  - [GET /users](#get-users)
  - [POST /users](#post-users)
  - [DELETE /users/:id](#delete-usersid)
- [エラーハンドリング](#エラーハンドリング)
- [レート制限](#レート制限)
```

---

### ページトップへ戻るリンク

```markdown
## セクション1

長い内容...

[目次に戻る](#目次)

---

## セクション2

長い内容...

[目次に戻る](#目次)
```

---

## 環境ごとの違い

### GitHub

```markdown
## Hello World! 🎉
→ #hello-world-
```
絵文字は削除、スペースはハイフン

### GitLab

```markdown
## Hello World! 🎉
→ #hello-world-
```
GitHubと同様

### Obsidian

```markdown
## Hello World! 🎉
→ #Hello World! 🎉
```
そのまま使用可能

---

## 目次自動生成ツール

手動で目次を作るのが面倒な場合、以下のツールが便利です。

### VS Code拡張機能

- **Markdown All in One**: 目次を自動生成
  - コマンドパレットで「Create Table of Contents」

### オンラインツール

- [GitHub Wiki TOC Generator](https://ecotrust-canada.github.io/markdown-toc/)

### CLIツール

```bash
# markdown-toc
npx markdown-toc README.md
```

---

## 同じ見出しが複数ある場合

同じテキストの見出しが複数あると、IDに連番が付きます。

### 記法

```markdown
## セクション
最初のセクション

## セクション
2番目のセクション

## セクション
3番目のセクション
```

### アンカーID

| 見出し | アンカーID |
|--------|------------|
| 1つ目の「セクション」 | `#セクション` |
| 2つ目の「セクション」 | `#セクション-1` |
| 3つ目の「セクション」 | `#セクション-2` |

**推奨**: 見出しは一意になるよう工夫する

---

## 注意点

1. **環境差異**: アンカーIDの生成ルールは環境によって異なる
2. **日本語の扱い**: 環境によってはエンコードが必要な場合がある
3. **見出し変更時**: 目次のリンクも更新が必要
4. **大文字小文字**: 英語は小文字に統一されることが多い

---

## デバッグ方法

リンクが動かない場合の確認方法：

1. **ブラウザの開発者ツール**で見出しのID属性を確認
2. **実際のHTMLをチェック**: `<h2 id="...">`
3. **プレビュー機能**でリンクをテスト

---

## 実習

以下のテンプレートを使って、目次付きドキュメントを作成してみましょう。

```markdown
# ドキュメントタイトル

## 目次

- [セクション1](#セクション1)
- [セクション2](#セクション2)
- [セクション3](#セクション3)

---

## セクション1

内容...

[目次に戻る](#目次)

## セクション2

内容...

[目次に戻る](#目次)

## セクション3

内容...

[目次に戻る](#目次)
```
